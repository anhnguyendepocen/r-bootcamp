---
title: "Modeling Basics"
author: "MC"
output:   
    ioslides_presentation:
      highlight: zenburn
      smaller: yes
      theme: readable
      widescreen: no
      css: mainPresentation.css

---

## Modeling

After all that we've gone through at this point, modeling will be the easy part for you.  

The biggest hurdle in modeling is preparing the data, and the better you are at programming:

- the faster it will go
- the more you can explore
- the more you can spend time learning other things (like new modeling packages)

Once complete, you now have thousands of packages to choose from for modeling.


## Modeling

The standard format for regression modeling can serve as baseline code for modeling in other packages.

Most take a formula and data argument. 
- a regression of y on x and z

```{r lmExample, eval=FALSE}
lm(y ~ x + z, data=myData)
```

Some might take matrix/vector arguments.

```{r lmfitExample, eval=FALSE}
lm.fit(X, y)          # lm.fit is the workhorse of lm
```


Unsupervised methods usually will need a matrix argument 

- sometimes a dataframe is ok

```{r pca, eval=FALSE}
princomp(X)
```


## Modeling

And then there are variations on these themes, but those constitute the vast majority of standard and complex models.  

In addition, they all come with additional arguments that you'll need to familiarize yourself with before using the function

```{r lmAlt, eval=FALSE}
glm(art ~ ., data=bioChemists, family = 'poisson')   # number of articles predicted by everything else

library(pscl)
hurdle(art ~ ., data=bioChemists, dist = 'poisson')  # hurdle model to deal with excess zeros
```

```{r lmerExample, eval=FALSE}
library(lme4)
lmer(Reaction ~ Days + (1|Subject), data=sleepstudy)  # a mixed model with a random intercept for Subject
```

## Modeling


Do a search for a model that you would like to learn more about.

If it's a somewhat standard model try an R search

```{r, eval=FALSE}
??`generalized linear model`
```

For something you're less sure about you might try several approaches:

- General web search of model name with R attached (best approach)

- [RDocumentation.org](http://www.rdocumentation.org/) and search 'all fields' or 'description' with the model name.

- RSiteSearch
    - generally poor

- You can also ask us to help narrow your search to maybe some popular implementations.


## Modeling 

Once you find a package that has something you want to try, take the following steps.

- Install the package
  - Note that many packages are now on github and might require different means for installation
- ***Consult the manual***
  - Cannot be stressed enough
- In the manual find one or two primary functions
- Read the helpfile, run the example code when finished (if available; you don't have to copy and paste)

```{r, eval=FALSE}
example('modelingFunctionName')
```

## Modeling
Otherwise you will:

- not know which functions might be most useful
- get errors when you try to run it with your own data
- miss out on neat features of the function
- miss out on other related functions (e.g. visualization, diagnostics)

Think of one or two models you're thinking about or simply maybe interested in and try this for yourself.

We'll come around and help you try and implement them if you have trouble or answer other questions.


## Other

Optimization problems

  - Start with optim function
  - Cran task view on optimization
  
Simulation

  - practically every probability distribution under the sun is found in R
  - Some packages to supplement base R: vgam, gamlss
  - Cran task view on probability distributions


